{"version":3,"sources":["templates.js","elements.js","functions.js","script.js"],"names":["baseJsscTemplate","jsscTempTemplate","jsscWaveTemplate","jssc","document","createElement","insertAdjacentHTML","classList","add","stepsObj","paletteWidth","carriageWidth","paletteBlockWidth","minLeft","maxLeft","paletteFullWidth","cursorPosition","wavesRanges","gradientRanges","jsscContent","querySelector","jsscTempContent","cloneNode","jsscWaveContent","jsscModal","removeChild","appendChild","waveCarriage","tempCarriage","body","jsscContentToggle","isCurrentTemp","jsscToggle","strObj","wave","undefined","validValuesConverter","temp","getComputedStyle","display","style","offsetWidth","Math","round","setCarriage","str","arr","split","resultArr","Array","forEach","elem","indexOf","i","parseInt","slice","push","getRange","num","length","getLeft","currentRangeCount","currentRangeNMs","percentage","proportion","getColor","initial","red","green","blue","final","result","toString","color","carriageCircle","carriageCircleSpan","carriageCountSpan","left","backgroundColor","innerHTML","nextStep","currentPosition","prevStep","dragAndDropCarriage","cursor","pageX","onclick","onmousedown","boxShadow","onmousemove","onmouseup"],"mappings":"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","file":"all.js","sourcesContent":["let baseJsscTemplate = '' +\r\n'<div class=\"jssc__modal\">' +\r\n\t'<div class=\"jssc__modal-close\">' + \r\n\t\t'<svg version=\"1.1\" baseProfile=\"full\" width=\"20\" height=\"20\"' +\r\n\t\t'xmlns=\"http://www.w3.org/2000/svg\">' +\r\n\t\t\t'<line x1=\"0\" x2=\"20\" y1=\"0\" y2=\"20\" stroke=\"#9A9EA0\"' + \r\n\t\t\t' stroke-width=\"2\"/>' + \r\n\t\t\t'<line x1=\"0\" x2=\"20\" y1=\"20\" y2=\"0\" stroke=\"#9A9EA0\"' + \r\n\t\t\t' stroke-width=\"2\"/>' + \r\n\t\t'</svg>' +\r\n\t'</div>' +\r\n\t'<div class=\"jssc__content\">' +\r\n\r\n\t'</div>' +\r\n'</div>';\r\n\r\nlet jsscTempTemplate = '' +\r\n'<div class=\"jssc__hat\">' +\r\n\t'<div class=\"jssc__title\"><span>Температура, К</span></div>' +\r\n\t'<div class=\"jssc__type-link\">' + \r\n\t\t'<span>Длина волны, λ</span>' +\r\n\t\t'<div class=\"jssc__type-link-img jssc__type-link-img_wave\"></div>' +\r\n\t'</div>' +\r\n'</div>' +\r\n'<div class=\"jssc__color-palette jssc__color-palette_temp\">' +\r\n\t'<div class=\"jssc__carriage-wrapper\">' +\r\n\t\t'<div class=\"jssc__count\"><span>400</span></div>' +\r\n\t\t'<div class=\"jssc__left-arrow-wrapper\">' + \r\n\t\t\t'<div class=\"jssc__left-arrow\"></div>' +\r\n\t\t'</div>' +\r\n\t\t'<div class=\"jssc__carriage\"></div>' +\r\n\t\t'<div class=\"jssc__right-arrow-wrapper\">' + \r\n\t\t\t'<div class=\"jssc__right-arrow\"></div>' +\r\n\t\t'</div>' +\r\n\t\t'<div class=\"jssc__bottom-arrow-wrapper\">' +\r\n\t\t\t'<div class=\"jssc__bottom-arrow\"></div>' +\r\n\t\t'</div>' +\r\n\t'</div>' +\r\n'</div>' +\r\n'<div class=\"jssc__marking\">' + \r\n\t'<span>2200к</span>' +\r\n\t'<span>2700-3000к</span>' +\r\n\t'<span>4000-4500к</span>' +\r\n\t'<span>4800к</span>' +\r\n\t'<span>5000-6000к</span>' +\r\n\t'<span>7000-7500к</span>' +\r\n\t'<span>10000к</span>' +\r\n\t'<span>20000к</span>' +\r\n'</div>' +\r\n'<div class=\"jssc__temp-sectors\">' + \r\n\t'<span>свеча</span>' +\r\n\t'<span>лампа</span>' +\r\n\t'<span>день</span>' +\r\n\t'<span>небо</span>' +\r\n'</div>' +\r\n'<div class=\"jssc__input\">' +\r\n\t'<input type=\"text\" name=\"jssc__input\">' +\r\n'</div>';\r\n\r\nlet jsscWaveTemplate = '' +\r\n'<div class=\"jssc__hat\">' +\r\n\t'<div class=\"jssc__title\"><span>Длина волны, λ</span></div>' +\r\n\t'<div class=\"jssc__type-link\">' + \r\n\t\t'<span>Температура, К</span>' +\r\n\t\t'<div class=\"jssc__type-link-img jssc__type-link-img_temp\"></div>' +\r\n\t'</div>' +\r\n'</div>' +\r\n'<div class=\"jssc__color-palette jssc__color-palette_wave\">' +\r\n\t'<div class=\"jssc__carriage-wrapper\">' +\r\n\t\t'<div class=\"jssc__count\"><span></span></div>' +\r\n\t\t'<div class=\"jssc__left-arrow-wrapper\">' + \r\n\t\t\t'<div class=\"jssc__left-arrow\"></div>' +\r\n\t\t'</div>' +\r\n\t\t'<div class=\"jssc__carriage\"><span></span></div>' +\r\n\t\t'<div class=\"jssc__right-arrow-wrapper\">' + \r\n\t\t\t'<div class=\"jssc__right-arrow\"></div>' +\r\n\t\t'</div>' +\r\n\t\t'<div class=\"jssc__bottom-arrow-wrapper\">' +\r\n\t\t\t'<div class=\"jssc__bottom-arrow\"></div>' +\r\n\t\t'</div>' +\r\n\t'</div>' +\r\n'</div>' +\r\n'<div class=\"jssc__marking\">' + \r\n\t'<span>УФ</span>' +\r\n\t'<span>380-440нм</span>' +\r\n\t'<span>440-485нм</span>' +\r\n\t'<span>485-500нм</span>' +\r\n\t'<span>500-565нм</span>' +\r\n\t'<span>565-590нм</span>' +\r\n\t'<span>590-625нм</span>' +\r\n\t'<span>625-740нм</span>' +\r\n\t'<span>ИК</span>' +\r\n'</div>' +\r\n'<div class=\"jssc__input\">' +\r\n\t'<input type=\"text\" name=\"jssc__input\">' +\r\n'</div>';","let jssc = document.createElement('div');\r\n\tjssc.insertAdjacentHTML('afterBegin', baseJsscTemplate);\r\n\tjssc.classList.add('jssc');\r\n\r\nlet stepsObj = {};\r\n\r\nlet paletteWidth, carriageWidth, paletteBlockWidth, minLeft, maxLeft,\r\n\tpaletteFullWidth, cursorPosition = null;\r\n\r\nlet wavesRanges = [0, 410, 463, 493, 533, 578, 608, 683, 1000],\r\n\tgradientRanges = ['000000', '7100C4', '004DFF', '00B8D9', '00C43A', 'FFFF00', 'FF8C00', 'FF0000', '000000'];\r\n\r\nlet jsscContent = jssc.querySelector('.jssc__content');\r\n\r\nlet\tjsscTempContent = jsscContent.cloneNode(true),\r\n\tjsscWaveContent = jsscContent.cloneNode(true);\r\njsscTempContent.insertAdjacentHTML('beforeEnd', jsscTempTemplate);\r\njsscWaveContent.insertAdjacentHTML('afterBegin', jsscWaveTemplate);\r\n\r\nlet jsscModal = jssc.querySelector('.jssc__modal');\r\njsscModal.removeChild(jsscContent);\r\njsscModal.appendChild(jsscTempContent);\r\n\r\nlet waveCarriage = jsscWaveContent.querySelector('.jssc__carriage-wrapper'),\r\n\ttempCarriage = jsscTempContent.querySelector('.jssc__carriage-wrapper');\r\n\r\ndocument.body.appendChild(jssc);","function jsscContentToggle(isCurrentTemp) {\r\n\r\n\tif (isCurrentTemp) {\r\n\t\tjsscModal.removeChild(jsscTempContent);\r\n\t\tjsscModal.appendChild(jsscWaveContent);\r\n\t} else {\r\n\t\tjsscModal.removeChild(jsscWaveContent);\r\n\t\tjsscModal.appendChild(jsscTempContent);\r\n\t}\r\n}\r\n\r\nfunction jsscToggle(strObj) {\r\n\r\n\tstrObj = strObj ? strObj : {};\r\n\r\n\tif (strObj.wave !== undefined) {\r\n\r\n\t\tstepsObj.wave = validValuesConverter(strObj.wave);\r\n\t} else {\r\n\r\n\t\tstepsObj.wave = validValuesConverter('380-740');\r\n\t}\r\n\r\n\tif (strObj.temp !== undefined) {\r\n\r\n\t\tstepsObj.temp = validValuesConverter(strObj.temp);\r\n\t} else {\r\n\r\n\t\tstepsObj.temp = validValuesConverter('2200-20000');\r\n\t}\r\n\r\n\tif (getComputedStyle(jssc).display === 'none') {\r\n\t\tjssc.style.display = 'flex';\r\n\r\n\t\tif (!paletteWidth) {\r\n\r\n\t\t\tpaletteWidth = document.querySelector('.jssc__color-palette').offsetWidth;\r\n\r\n\t\t\tcarriageWidth = document.querySelector('.jssc__carriage-wrapper').offsetWidth;\r\n\r\n\t\t\tpaletteBlockWidth = Math.round(paletteWidth / 8);\r\n\r\n\t\t\tminLeft = -(Math.round(carriageWidth / 2));\r\n\t\t\tmaxLeft = paletteWidth - Math.round(carriageWidth / 2);\r\n\t\t\tsetCarriage(stepsObj.wave[0]);\r\n\t\t}\r\n\r\n\t} else {\r\n\t\tjssc.style.display = 'none';\r\n\t}\r\n}\r\n\r\nfunction validValuesConverter(str) {\r\n\r\n\tlet arr = str.split(','),\r\n\t\tresultArr = new Array();\r\n\r\n\tarr.forEach(function(elem) {\r\n\t\tif (~elem.indexOf('-')) {\r\n\t\t\tfor (let  i = parseInt(elem); i <= parseInt(elem.slice(elem.indexOf('-') + 1)); i++) {\r\n\t\t\t\tresultArr.push(i);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tresultArr.push(parseInt(elem));\r\n\t\t}\r\n\t});\r\n\r\n\treturn resultArr;\r\n}\r\n\r\nfunction getRange(num) {\r\n\r\n\tfor (let i = 0; i < wavesRanges.length - 1; i++) {\r\n\t\tif ((num <= wavesRanges[i + 1]) && (num >= wavesRanges[i])) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction getLeft(num) {\r\n\t\r\n\tlet currentRangeCount = wavesRanges[getRange(num) + 1] - wavesRanges[getRange(num)],\r\n\t\tcurrentRangeNMs = num - wavesRanges[getRange(num)],\r\n\t\tpercentage = currentRangeNMs / (currentRangeCount / 100),\r\n\t\tproportion = percentage / 100;\r\n\r\n\r\n\r\n\treturn paletteBlockWidth * getRange(num) + paletteBlockWidth * proportion - carriageWidth / 2;\r\n}\r\n\r\nfunction getColor(num) {\r\n\r\n\tlet currentRangeCount = wavesRanges[getRange(num) + 1] - wavesRanges[getRange(num)],\r\n\t\tcurrentRangeNMs = num - wavesRanges[getRange(num)],\r\n\t\tpercentage = currentRangeNMs / (currentRangeCount / 100),\r\n\t\tproportion = percentage / 100;\r\n\r\n\tlet initial = {\r\n\t\tred: gradientRanges[getRange(num)].slice(0, 2),\r\n\t\tgreen: gradientRanges[getRange(num)].slice(2, 4),\r\n\t\tblue: gradientRanges[getRange(num)].slice(4, 6)\r\n\t},\r\n\tfinal = {\r\n\t\tred: gradientRanges[getRange(num) + 1].slice(0, 2),\r\n\t\tgreen: gradientRanges[getRange(num) + 1].slice(2, 4),\r\n\t\tblue: gradientRanges[getRange(num) + 1].slice(4, 6)\r\n\t},\r\n\tresult = {\r\n\t\tred: Math.round(parseInt(initial.red, 16) + (parseInt(final.red, 16) - parseInt(initial.red, 16)) * proportion).toString(16),\r\n\t\tgreen: Math.round(parseInt(initial.green, 16) + (parseInt(final.green, 16) - parseInt(initial.green, 16)) * proportion).toString(16),\r\n\t\tblue: Math.round(parseInt(initial.blue, 16) + (parseInt(final.blue, 16) - parseInt(initial.blue, 16)) * proportion).toString(16)\r\n\t},\r\n\tcolor;\r\n\r\n\tfor (color in result) {\r\n\t\tresult[color] = (result[color].length < 2) ? '0' + result[color] : result[color];\r\n\t}\r\n\r\n\treturn result.red + result.green + result.blue;\r\n}\r\n\r\nfunction setCarriage(num) {\r\n\tlet carriageCircle = waveCarriage.querySelector('.jssc__carriage'),\r\n\t\tcarriageCircleSpan = carriageCircle.querySelector('span'),\r\n\t\tcarriageCountSpan = waveCarriage.querySelector('.jssc__count span');\r\n\r\n\twaveCarriage.style.left = getLeft(num) + 'px';\r\n\tcarriageCircle.style.backgroundColor = '#' + getColor(num);\r\n\r\n\tif (num > 740) {\r\n\t\tcarriageCircleSpan.innerHTML = 'ИК';\r\n\t} else if (num < 380) {\r\n\t\tcarriageCircleSpan.innerHTML = 'УФ';\r\n\t} else {\r\n\t\tcarriageCircleSpan.innerHTML = '';\r\n\t}\r\n\r\n\tcarriageCountSpan.innerHTML = num;\r\n}\r\n\r\nfunction nextStep() {\r\n\tlet currentPosition = stepsObj.wave.indexOf(parseInt(waveCarriage.querySelector('.jssc__count span').innerHTML));\r\n\tif (currentPosition + 1 < stepsObj.wave.length) {\r\n\t\tsetCarriage(stepsObj.wave[currentPosition + 1]);\r\n\t}\r\n}\r\n\r\nfunction prevStep() {\r\n\tlet currentPosition = stepsObj.wave.indexOf(parseInt(waveCarriage.querySelector('.jssc__count span').innerHTML));\r\n\tif (currentPosition - 1 >= 0) {\r\n\t\tsetCarriage(stepsObj.wave[currentPosition - 1]);\r\n\t}\r\n}\r\n\r\nfunction dragAndDropCarriage(cursor) {\r\n\t\r\n\tif (cursorPosition === null) {\r\n\t\tcursorPosition = cursor.pageX;\r\n\t} else {\r\n\t\tif (cursorPosition < cursor.pageX) {\r\n\t\t\tnextStep();\r\n\t\t\tcursorPosition = null;\r\n\t\t}\r\n\t\tif (cursorPosition > cursor.pageX) {\r\n\t\t\tprevStep();\r\n\t\t\tcursorPosition = null;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/*function getNearStep(inputNum) {\r\n\tfor (let i = 0; i < stepsObj.wave.length - 1; i++) {\r\n\t\tif (inputNum >= stepsObj.wave[i]) && (inputNum <= stepsObj.wave[i + 1]) {\r\n\t\t\treturn (((stepsObj.wave[i + 1] - stepsObj.wave[i]) / 2) > inputNum) ?\r\n\t\t\tstepsObj.wave[i] : stepsObj.wave[i + 1];\r\n\t\t}\r\n\t}\r\n}*/","/*jssc.querySelector('.jssc__type-link').onclick = function() {\r\n\tjsscContentReplace(this);\r\n}*/\r\njsscTempContent.querySelector('.jssc__type-link').onclick = function() {\r\n\tjsscContentToggle(true);\r\n}\r\n\r\njsscWaveContent.querySelector('.jssc__type-link').onclick = function() {\r\n\tjsscContentToggle(false);\r\n}\r\n\r\njssc.querySelector('.jssc__modal-close').onclick = function() {\r\n\tjsscToggle(true);\r\n}\r\n\r\njsscWaveContent.querySelector('.jssc__left-arrow').onclick = function() {\r\n\tprevStep();\r\n}\r\n\r\njsscWaveContent.querySelector('.jssc__right-arrow').onclick = function() {\r\n\tnextStep();\r\n}\r\n\r\njsscWaveContent.querySelector('.jssc__carriage').onmousedown = function() {\r\n\tjssc.style.cursor = 'none';\r\n\tjssc.querySelector('.jssc__left-arrow').style.cursor = 'none';\r\n\tjssc.querySelector('.jssc__right-arrow').style.cursor = 'none';\r\n\twaveCarriage.querySelector('.jssc__carriage').style.boxShadow = '0 0 15px rgba(0, 0, 0, 0.5)';\r\n\tjssc.onmousemove = function(cursor) {\r\n\t\tdragAndDropCarriage(cursor);\r\n\t}\r\n}\r\n\r\njssc.onmouseup = function() {\r\n\tjssc.style.cursor = '';\r\n\tjssc.querySelector('.jssc__left-arrow').style.cursor = '';\r\n\tjssc.querySelector('.jssc__right-arrow').style.cursor = '';\r\n\twaveCarriage.querySelector('.jssc__carriage').style.boxShadow = '';\r\n\tthis.onmousemove = function() {};\r\n}"]}